{"version":3,"file":"recordings_search.min.js","sources":["../src/recordings_search.js"],"sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * Search filter for recordings table.\n *\n * @module     mod_bigbluebuttonbn/recordings_search\n * @copyright  2025 Blindside Networks\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\n\n/* eslint no-console: \"off\" */\n\n/**\n * Filters the recordings table by text input across all columns.\n */\nexport const setupSearch = () => {\n    console.log(\"[recordings_search] setupSearch initialized\");\n\n    const searchInput = document.getElementById(\"recordings-search-input\");\n    const searchButton = document.getElementById(\"recordings-search-button\");\n    const tableContainer = document.querySelector(\".mod_bigbluebuttonbn_recordings_table\");\n\n    if (!searchInput || !searchButton || !tableContainer) {\n        console.warn(\"Search not initialized: missing elements\");\n        return;\n    }\n\n    const rows = Array.from(tableContainer.querySelectorAll(\".row.mb-3.align-items-center\"));\n\n    const filterRows = () => {\n        const query = searchInput.value.trim().toLowerCase();\n        if (!query) {\n            rows.forEach(row => {\n                row.style.display = \"flex\";\n            });\n            return;\n        }\n\n        rows.forEach(row => {\n            const text = row.textContent.toLowerCase();\n            row.style.display = text.includes(query) ? \"flex\" : \"none\";\n        });\n    };\n\n    searchButton.addEventListener(\"click\", () => {\n        console.log(\"[recordings_search] search button clicked\");\n        filterRows();\n    });\n\n    searchInput.addEventListener(\"keydown\", (e) => {\n        if (e.key === \"Enter\") {\n            filterRows();\n        }\n    });\n};"],"names":["console","log","searchInput","document","getElementById","searchButton","tableContainer","querySelector","warn","rows","Array","from","querySelectorAll","filterRows","query","value","trim","toLowerCase","forEach","row","text","textContent","style","display","includes","addEventListener","e","key"],"mappings":"wLA4B2B,KACvBA,QAAQC,IAAI,qDAENC,YAAcC,SAASC,eAAe,2BACtCC,aAAeF,SAASC,eAAe,4BACvCE,eAAiBH,SAASI,cAAc,6CAEzCL,cAAgBG,eAAiBC,2BAClCN,QAAQQ,KAAK,kDAIXC,KAAOC,MAAMC,KAAKL,eAAeM,iBAAiB,iCAElDC,WAAa,WACTC,MAAQZ,YAAYa,MAAMC,OAAOC,cAClCH,MAOLL,KAAKS,SAAQC,YACHC,KAAOD,IAAIE,YAAYJ,cAC7BE,IAAIG,MAAMC,QAAUH,KAAKI,SAASV,OAAS,OAAS,UARpDL,KAAKS,SAAQC,MACTA,IAAIG,MAAMC,QAAU,WAWhClB,aAAaoB,iBAAiB,SAAS,KACnCzB,QAAQC,IAAI,6CACZY,gBAGJX,YAAYuB,iBAAiB,WAAYC,IACvB,UAAVA,EAAEC,KACFd"}