/**
 * Helper that hides the fallback select and delegates to the autocomplete enhancer.
 *
 * @module     mod_bigbluebuttonbn/multiselect_tags
 * @copyright  2025 Blindside Networks Inc
 * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
 * @author     Jesus Federico  (jesus [at] blindsidenetworks [dt] com)
 */
define("mod_bigbluebuttonbn/multiselect_tags",["jquery","core/form-autocomplete"],(function($,autocomplete){return{init:function(selector){const args=Array.prototype.slice.call(arguments),$select=$(selector);return $select.length&&$select.attr("data-tags-enhanced","1"),autocomplete.enhance.apply(autocomplete,args).then((function(){var selectionOrder=[];$select.find("option:selected").each((function(){selectionOrder.push(this.value)}));var $pillContainer=$select.parent().find(".form-autocomplete-selection"),reorder=function(){selectionOrder.forEach((function(val){var $opt=$select.find('option[value="'+val+'"]');$opt.length&&$select.append($opt)})),$pillContainer.length&&selectionOrder.forEach((function(val){var $pill=$pillContainer.find('[data-value="'+val+'"]');$pill.length&&$pillContainer.append($pill)}))};$select.on("change",(function(){$select.find("option").filter((function(){return!this.value})).remove();var currentSelected=[];$select.find("option:selected").each((function(){this.value&&currentSelected.push(this.value)}));for(var i=selectionOrder.length-1;i>=0;i--)-1===currentSelected.indexOf(selectionOrder[i])&&selectionOrder.splice(i,1);currentSelected.forEach((function(val){-1===selectionOrder.indexOf(val)&&selectionOrder.push(val)})),reorder()})),reorder()}))}}}));

//# sourceMappingURL=multiselect_tags.min.js.map